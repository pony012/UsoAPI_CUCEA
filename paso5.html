<!DOCTYPE>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style type="text/css">
		.male{
			color: #448aff;
		}
		.female{
			color: #ff4081;
		}
		.glyphicon{
			text-size: 18px;
		}
		.panel-body{
			height: 280px;
			overflow-y: auto;
		}
	</style>
	<title>Paso 5</title>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<form class="form-inline">
				<div class="form-group">
					<input type="text" class="form-control" id="usuarioNombre" placeholder="Nombre">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" id="usuarioApellido" placeholder="Apellido">
				</div>
				<div class="form-group">
					<label class="radio-inline">
						<input type="radio" name="usuarioGenero" value="male">H
					</label>
					<label class="radio-inline">
						<input type="radio" name="usuarioGenero" value="female">M
					</label>
				</div>
				<div class="form-group">
					<input type="text" class="form-control" id="usuarioTel" placeholder="Tel">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" id="usuarioEmail" placeholder="Email">
				</div>
				<div class="form-group">
					<textarea class="form-control" id="usuarioDesc" placeholder="Descripcion"></textarea>
				</div>
				<button class="btn btn-small" id="addUser">A&ntilde;adir Usuario</button>
			</form>
		</div>
		<div class="row">
			<div class="col-xs-12" id="resultado">
				
			</div>
		</div>
	</div>
	<script type="text/javascript">
/**
 * Cuando se da click en el boton de agregar usuario,
 * se toma la informacion del formulario y se agrega
 * un nuevo panel al contenedor
 */
$("#addUser").on('click', function(event){
	event.preventDefault();
	var nombreU = $("#usuarioNombre").val(),
			apellidoU = $("#usuarioApellido").val(),
			generoU = $("input[name=usuarioGenero]:checked").val(),
			telU = $("#usuarioTel").val(),
			emailU = $("#usuarioEmail").val(),
			descU = $("#usuarioDesc").val();
	
	usuario = {
		'name': {
			'first': nombreU,
			'last': apellidoU
		},
		'picture':{
			'medium': 'http://lorempixel.com/80/80/people/?rand='+Math.random()
		},
		'gender': generoU,
		'phone': telU,
		'email': emailU,
		'description': descU
	};
	addUser($("#resultado"), usuario);
	$("input[type=text]").val('');
	$("textarea").val('');
	$("#usuarioNombre").focus();
});

/**
 * De esta manera se vacian los datos
 */
var addUser = function(container, user){
	var newUser = $('<div class="col-xs-12 col-md-6 col-lg-4">'+
						'<div class="panel panel-default">'+
							'<div class="panel-heading text-center">'+
								'<h3 class="text-capitalize">'+user.name.first+' '+user.name.last+'</h3>'+
							'</div>'+	
							'<div class="panel-body text-center">'+
								'<img class="img-circle" src="'+user.picture.medium+'">'+
								'<div class="row text-center">'+
									'<div class="col-xs-12 col-sm-2">'+
										'<span class="glyphicon glyphicon-user '+user.gender+'"></span>'+
									'</div>'+
									'<div class="col-xs-12 col-sm-5">'+
										'<span class="glyphicon glyphicon-earphone"><span><p>'+user.phone+'</p>'+
									'</div>'+
									'<div class="col-xs-12 col-sm-5">'+
										'<span class="glyphicon glyphicon-envelope"><span><p>'+user.email+'</p>'+
									'</div>'+
								'</div>'+
								'<div class="row text-justify">'+
									'<h3>Descripci&oacute;n: </h3>'+user.description+
								'</div>'+
							'</div>'+	
						'</div>'+
					'</div>');
		container.append(newUser);
}; 
	</script>
</body>
</html>
